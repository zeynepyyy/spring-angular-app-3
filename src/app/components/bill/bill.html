<div class="bill-container">
    <h2>ğŸ§¾ Fatura Ã–deme Merkezi</h2>

    <div class="account-selector">
        <label>Ã–deme YapÄ±lacak Hesap:</label>
        <select (change)="onAccountSelect($event)" [value]="selectedAccountId()">
            @for (acc of accounts(); track acc.id) {
            <option [value]="acc.id">{{ acc.accountNumber }} ({{ acc.balance | currency:'TRY':'symbol':'1.2-2' }})
            </option>
            }
        </select>
    </div>

    <div class="bills-grid">
        @for (bill of bills(); track bill.id) {
        <div class="bill-card" [class.paid]="bill.status === 'PAID'">
            <div class="bill-icon">
                @if(bill.billType === 'ELEKTRIK') { âš¡ }
                @else if(bill.billType === 'SU') { ğŸ’§ }
                @else { ğŸŒ }
            </div>
            <div class="bill-info">
                <h3>{{ bill.billType }}</h3>
                <p>Son Ã–deme: {{ bill.dueDate }}</p>
                <div class="amount">{{ bill.amount | currency:'TRY':'symbol':'1.2-2' }}</div>
            </div>
            <div class="bill-action">
                @if(bill.status === 'PAID') {
                <span class="paid-badge">âœ” Ã–DENDÄ°</span>
                } @else {
                <button (click)="payBill(bill)">Ã–DE</button>
                }
            </div>
        </div>
        }
    </div>
</div>